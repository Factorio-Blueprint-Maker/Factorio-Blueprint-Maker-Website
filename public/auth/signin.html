<html>
  <head>
    <link rel="stylesheet" href="../style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300&family=Poiret+One&family=Rock+Salt&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' /> 
  </head>
  <body>  

    <div id="header-container"></div>

    <div class="test2">
      <div class="login-container">
        <div class="input-form">
          <h1>Welcome</h1>
          <h2>Signin to continue</h2>
          <div class="test">
            <label>Email</label>
            <input type="text" id="email" placeholder="Enter your Email">
            <label>Password</label>
            <input type="password" id="password" placeholder="Enter your Password">
            <button class="signin-button">Sign In</button>
          </div>
          <a href="#" class="link-forgotpassword">Forgot Password?</a>
          <div class="or-container">
            <hr><h4>or</h4><hr>
          </div>
          <button class="signinWithGoogle">
            <img src="../assets/google_logo.png">
            <p>Continue with Google</p>
          </button>
          <button class="signinWithSteam">
            <img src="../assets/steam_logo.png">
            <p>Continue with Steam</p>
          </button>

          <a href="signup.html" class="link-notmember">Register with email</a>
        </div>
    </div>
  </div>

  <script src="../scripts/ui.js" type="module"></script>
  <script src="../scripts/auth.js" type="module"></script>

  <script type="module">

    import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-auth.js";
    import { auth } from "../scripts/AppConfig.js";

    function checkPageAccess() {
      onAuthStateChanged(auth, (user) => {
        if (user) {
          window.location.replace("https://factorio-blueprint--maker.web.app/index.html");
        }
      });
    }

    document.addEventListener('DOMContentLoaded', checkPageAccess);
  </script>

   </body>
</html>